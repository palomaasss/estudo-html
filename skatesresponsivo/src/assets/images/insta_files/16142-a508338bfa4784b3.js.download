"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16142],{567450:function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var i=new(function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"onResumeListeners",[]),r(this,"onPauseListeners",[]),r(this,"inExp",!1),r(this,"windowInFocus",!0)}var n,i,a;return n=t,(i=[{key:"setExperiment",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.inExp=t}},{key:"onSessionResume",value:function(t){return this.onResumeListeners.push(t),this}},{key:"onSessionPause",value:function(t){return this.onPauseListeners.push(t),this}},{key:"removeResumeListener",value:function(t){this.onResumeListeners.filter((function(n){return n!==t}))}},{key:"removePauseListener",value:function(t){this.onPauseListeners=this.onPauseListeners.filter((function(n){return n!==t}))}},{key:"getAppState",value:function(){return this.windowInFocus?0:void 0}}])&&e(n.prototype,i),a&&e(n,a),t}()),a=function(t){if(t.isHidden){var n=t.reason;i.windowInFocus=!1,i.onPauseListeners.forEach((function(t){return t(n)}))}else i.windowInFocus=!0,i.onResumeListeners.forEach((function(t){return t()}))};setTimeout((function(){window.addEventListener("beforeunload",(function(){return a({isHidden:!0,reason:"beforeunload"})})),window.addEventListener("focus",(function(){return a({isHidden:!1})})),window.addEventListener("blur",(function(){return a({isHidden:!0,reason:"blur"})})),window.addEventListener("pageshow",(function(){return a({isHidden:!1})})),window.addEventListener("pagehide",(function(){return a({isHidden:!0,reason:"pagehide"})})),void 0!==document.hidden?document.addEventListener("visibilitychange",(function(){return a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(function(){return a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})}),!1)}),0),n.Z=i},42447:function(t,n,e){e.d(n,{Z:function(){return ut}});var r=e(76911),i=e(317672),a=e(790348);function o(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function s(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function u(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var l=function(t){var n=performance.getEntriesByType("resource").filter((function(t){return t.name.includes("i.pinimg")})).reduce((function(t,n){var e=n.name.replace(".jpg","").split("/");return function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?s(Object(e),!0).forEach((function(n){u(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}(u({},e[e.length-1],{downloadSize:n.name.split("/")[3].split("x")[0]}),t)}),{}),e=Array.from(document.getElementsByTagName("img")).map((function(t){var e=t.src.replace(".jpg","").split("/"),r=e[e.length-1];if(n[r]){var a,o=(null===(a=(0,i.rZ)(t))||void 0===a?void 0:a.width)||1,c=n[r].downloadSize;return{fileName:r,renderedSize:o,downloadedSize:c,ratio:c/o}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}})),r=Array.from(document.querySelectorAll('div[role="img"]')).map((function(t){var e=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),r=e[e.length-1];if(n[r]&&t instanceof HTMLDivElement){var a,o=(null===(a=(0,i.rZ)(t))||void 0===a?void 0:a.width)||1,c=n[r].downloadSize;return{fileName:r,renderedSize:o,downloadedSize:c,ratio:c/o}}return{fileName:r,renderedSize:1,downloadedSize:1,ratio:1}}));[].concat(o(e),o(r)).forEach((function(n){var e=n.ratio,r=n.fileName,i=n.downloadedSize;n.ratio>1.05&&(0,a.A9)("checkImageRatio.".concat(t),{count:Math.round(10*e)/10,tags:{fileName:"".concat(i,"_").concat(r)}})}))},p=e(860273),f=e(543059),d=e(607150);function m(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?m(Object(e),!0).forEach((function(n){v(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function v(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var g=function(t){var n=t.constraintMap,e=t.initialNavTiming;return y(y(y(y({},t.annotations),(0,d.jh)("constraint_",n)),(0,d.jh)("mark_",(0,f.gQ)())),(0,d.jh)("browser_",y(y({},e?(0,d.D3)(e):{}),(0,d.rX)())))},b=e(358864),h=e(505771),T=e(156381);function S(t){return function(t){if(Array.isArray(t))return A(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return A(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return A(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var w=function(t,n){var e=(0,T.v2)().firstInputDelay;return[].concat(S(t.map((function(t){return(0,h.Z)(t,n)})).filter(Boolean)),S(e?[{name:"fid",id:(0,b.Z)(),parentId:n,startTime:e.startTime,endTime:e.endTime,annotationMap:{},binaryAnnotationMap:{}}]:[]))},O=e(435851),E=e(172071);function I(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return _(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M=function(t){var n=t.eventPrefix,e=t.endTime,r=t.tags,i=t.resourceArr,a=t.resourceType,o=void 0===a?"allResources":a,c=i.length;if(c>0&&"object"===P(i[0])&&!Array.isArray(i[0])){for(var s=I(i).sort((function(t,n){return t.fetchStart-n.fetchStart})),u=I(i).sort((function(t,n){return t.responseEnd-n.responseEnd})),l=1,p=e/5,f=0;l<=5;){for(var d=0;f<=c-1&&s[f].fetchStart<=p*l;)f+=1,d+=1;E.Z.gauge("".concat(n,".tags.").concat(o,".fetchStartInterval").concat(l,"of5"),d,.2,r),E.Z.gauge("".concat(n,".").concat(o,".fetchStartInterval").concat(l,"of5"),d,.2),l+=1}var m={zeroPercentInFlight:s[0].fetchStart,twentyFivePercentInFlight:s[Math.floor(c/4)].fetchStart,fiftyPercentInFlight:s[2*Math.floor(c/4)].fetchStart,seventyFivePercentInFlight:s[3*Math.floor(c/4)].fetchStart,hundredPercentInFlight:s[c-1].fetchStart,twentyFivePercentComplete:u[Math.floor(c/4)].responseEnd,fiftyPercentComplete:u[2*Math.floor(c/4)].responseEnd,seventyFivePercentComplete:u[3*Math.floor(c/4)].responseEnd,hundredPercentComplete:u[c-1].responseEnd};for(var y in m)m[y]&&(E.Z.timing("".concat(n,".tags.").concat(o,".").concat(y),m[y],.2,r),E.Z.timing("".concat(n,".").concat(o,".").concat(y),m[y],.2))}},C=function(t){var n=t.annotateExperiments,e=t.endTime,r=t.entries,i=t.metricId,a=t.pwtStaticContext,o="".concat((0,O.Z)(a),".").concat(i.surface),c=[o];n&&n.forEach((function(t){var n=a.getExperimentGroup(t)||"null";c.push("".concat(o,".").concat(t,".").concat(n))}));var s,u={lcpTimingBucket:((s=(0,T.Bn)())<=2500?"Good":s>2500&&s<=4e3?"Needs Improvement":"Poor")||"unknown",isAuthenticated:a.isAuthenticated,navigationType:i.navigationType},l=Array.from(r.filter((function(t){return"number"==typeof t.encodedBodySize&&t.encodedBodySize>=1e4&&t.responseEnd<=e}))),p=[],f=[],d=[],m=[],y=[];l.forEach((function(t){"img"===t.initiatorType?p.push(t):"css"===t.initiatorType?f.push(t):"script"===t.initiatorType?d.push(t):"xmlhttprequest"===t.initiatorType?m.push(t):"link"===t.initiatorType&&t.name.includes("i.pinimg.com")&&y.push(t)})),c.forEach((function(t){M({eventPrefix:t,endTime:e,tags:u,resourceArr:l}),M({eventPrefix:t,endTime:e,tags:u,resourceArr:p,resourceType:"image"}),M({eventPrefix:t,endTime:e,tags:u,resourceArr:f,resourceType:"css"}),M({eventPrefix:t,endTime:e,tags:u,resourceArr:d,resourceType:"scripts"}),M({eventPrefix:t,endTime:e,tags:u,resourceArr:m,resourceType:"xhr"}),M({eventPrefix:t,endTime:e,tags:u,resourceArr:y,resourceType:"preloadedImage"})}))},j=e(22773),N=e(453821),L=e(638089),R=function(t){var n,e=t.annotateExperiments,r=t.annotations,i=t.binaryAnnotations,a=t.constraintMap,o=t.endTime,c=t.imageTimings,s=t.metricId,u=t.pwtStaticContext,l=t.startTime,f=t.traceId,d=t.spans,m=(0,j.Cg)();"initial_app_load"===s.navigationType&&(n=(0,p.Z)());var y=c.map((function(t){return t.name})),v=m.map((function(t){return(0,N.p)(t,y)})).filter((function(t){return!function(t,n){var e=t.startTime,r=t.responseEnd;return e>n.endTime||!!r&&r<n.startTime||e<n.startTime-100}(t.timing,{startTime:l,endTime:o})}));return"board"!==s.surface&&"pin_closeup"!==s.surface||C({annotateExperiments:e,endTime:o,entries:m,metricId:s,pwtStaticContext:u}),{type:"COMPLETE",traceId:f,startTime:l,endTime:o,spans:w(v,f).concat(d),annotationMap:g({constraintMap:a,initialNavTiming:n,annotations:r}),binaryAnnotationMap:(0,L.rA)({annotateExperiments:e,binaryAnnotations:i,entries:m,metricId:s,performanceResources:v,pwtEndTime:o,pwtStaticContext:u})}},x=!1,D=function(t,n){return t&&n?x?((0,a.H)("duplicated_initial_app_load_surface_pwt"),(0,b.Z)()):(x=!0,n):(0,b.Z)()},Z=e(558775),B=function(t,n){var e=(0,r.useRef)(n);return{getState:function(){return e.current},dispatch:function(n){e.current=t(e.current,n)}}},H=e(985271),k=e(383434),U=e(226464),z=e(567450),G=e(276602),F=e(198462),K=e(515198);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var J=["children"];function Y(t,n){if(null==t)return{};var e,r,i=function(t,n){if(null==t)return{};var e,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||(i[e]=t[e]);return i}(t,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)e=a[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(i[e]=t[e])}return i}function $(t){var n=function(t,n){if("object"!==V(t)||null===t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var r=e.call(t,n||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===V(n)?n:String(n)}function q(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return X(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return X(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Q(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function W(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(e),!0).forEach((function(n){tt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Q(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function tt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var nt=["initial_app_load","client_route_push"],et=(0,k.XV)("PwtSurface"),rt="NavigationComplete",it="VisuallyComplete",at=function(t,n){t.isSampled&&(0,Z.Z)({metricId:t.metricConfig.metricId,pwtStaticContext:t.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:n}})},ot=function(t){if(t.metricConfig.constraints.every((function(n){return t.constraintMap[n]}))){var n=Math.max.apply(Math,q(t.metricConfig.constraints.map((function(n){return t.constraintMap[n]}))));return function(t,n){var e,r=t.metricConfig,i=r.metricId,o=r.pwtStaticContext,c=r.annotateExperiments,s=t.annotations,u=t.binaryAnnotations,p=t.constraintMap,d=t.startTime,m=t.imageTimings,y=t.isSampled,v=t.spans;(0,f.L8)("PWT_Complete_".concat((0,U.KJ)(i)));var g=D("initial_app_load"===i.navigationType,null===(e=o.serverData)||void 0===e?void 0:e.trace_id),b=R({annotateExperiments:c,annotations:s,binaryAnnotations:u,constraintMap:p,endTime:n,imageTimings:m,metricId:i,pwtStaticContext:o,startTime:d,traceId:g,spans:v});y&&(0,Z.Z)({metricId:i,pwtStaticContext:o,result:b});try{l(String(b.binaryAnnotationMap["metricId.surface"].value))}catch(h){(0,a.H)("image_ratio_check_error",{error:h})}return W(W({},t),{},{result:b,status:"DONE"})}(t,n)}return t},ct=function(t,n){var e=n.constraint,r=n.time,i=(0,U.KJ)(t.metricConfig.metricId);return H.Z?t.metricConfig.constraints.find((function(t){return t===e}))?t.constraintMap[e]?(et('constraint "'.concat(e,'" is already complete.')),(0,a.H)("duplicated_constraint_complete",{constraint:e,action:i}),t):(et('marking constraint "'.concat(e,'" as complete')),(0,f.ZP)("constraint_".concat(e,"_is_complete")),ot(W(W({},t),{},{constraintMap:W(W({},t.constraintMap),{},tt({},e,r||H.Z.now()))}))):(et('marked constraint "'.concat(e,'" is not a required constraint.')),t):((0,a.H)("missing_window_performance",{action:i}),t)},st=function(t,n){if(et("dispatch action",n),"INIT_ROUTE"===n.type)return function(t,n){var e=n.metricConfig,r=n.startTime,i=n.isSampled;if("TIMING"===t.status&&r!==t.startTime&&at(t,"routeUpdatedOnSameSurface"),!e)return{status:"DISABLED",metricConfig:null};var o,c,s,u,l=(0,U.KJ)(e.metricId);return"TIMING"===t.status&&t.startTime===r&&t.constraintMap[rt]?((0,a.H)("duplicated_init_route_action",{action:l}),t):("Other"===e.pwtStaticContext.browserName&&!1===e.metricId.isAuthenticated&&"initial_app_load"===e.metricId.navigationType?((0,a.A9)("TIMING.".concat(l),{tags:{userAgent:null===(o=window)||void 0===o||null===(c=o.navigator)||void 0===c?void 0:c.userAgent}}),(0,a.A9)("TIMING.sampled.".concat(l),{tags:{userAgent:null===(s=window)||void 0===s||null===(u=s.navigator)||void 0===u?void 0:u.userAgent},sampleRate:.5})):((0,a.A9)("TIMING.".concat(l)),(0,a.A9)("TIMING.sampled.".concat(l),{sampleRate:.5})),ct({status:"TIMING",metricConfig:e,startTime:r,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:i,spans:[]},{constraint:rt}))}(t,n.payload);if("TIMING"!==t.status)return et("ignoring action due to invalid state ".concat(t.status),n),t;switch(n.type){case"ABORT":at(t,n.reason);var e={type:"ABORT",reason:n.reason};return W(W({},t),{},{status:"DONE",result:e});case"ANNOTATE":var r=n.payload.name;if(!H.Z)return t;var i=H.Z.now();return et("adding annotation {".concat(r,": ").concat(i,"}")),W(W({},t),{},{annotations:W(W({},t.annotations),tt({},r,i))});case"BINARY_ANNOTATE":var o=n.payload,c=o.name,s=o.value,u=o.annotationType;return et("adding binary annotation {".concat(c,": ").concat(s,"}")),W(W({},t),{},{binaryAnnotations:W(W({},t.binaryAnnotations),tt({},c,{value:s,type:u}))});case"MARK_CONSTRAINT_COMPLETE":return ct(t,n.payload);case"REMOVE_CONSTRAINT":return function(t,n){if(!H.Z){var e=(0,U.KJ)(t.metricConfig.metricId);(0,a.H)("missing_window_performance",{action:e})}et('removing constraint "'.concat(n,'"'));var r=t.metricConfig.constraints.filter((function(t){return t!==n})),i=t.constraintMap,o=(i[n],Y(i,[n].map($)));return ot(W(W({},t),{},{constraintMap:o,metricConfig:W(W({},t.metricConfig),{},{constraints:r})}))}(t,n.payload);case"SET_SEGMENT":return function(t,n){if(!H.Z){var e=(0,U.KJ)(t.metricConfig.metricId);(0,a.H)("missing_window_performance",{action:e})}et('updating pwt segment to "'.concat(n,'"'));var r=W(W({},t.metricConfig.metricId),{},{segment:n});return W(W({},t),{},{metricConfig:W(W({},t.metricConfig),{},{metricId:r})})}(t,n.payload);case"SET_VISUALLY_COMPLETE_RESULT":var l=n.payload.imageTimings;if(0===l.length){at(t,"visuallyComplete_noImages");return W(W({},t),{},{status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}})}var p=Math.max.apply(Math,q(l.map((function(t){return t.responseEnd||0}))));return ct(W(W({},t),{},{imageTimings:l}),{constraint:it,time:p});case"ADD_SUBSPAN":var f=t.startTime,d=n.payload,m=d.name,y=d.startTime,v=d.endTime,g=d.annotations,h=d.binaryAnnotations,T=d.parentId;return W(W({},t),{},{spans:[].concat(q(t.spans),[{name:m,id:(0,b.Z)(),startTime:y||f,endTime:v,annotationMap:W({},g),binaryAnnotationMap:W({},h),parentId:T}])});case"START_SUBSPAN":return W(W({},t),{},{spans:[].concat(q(t.spans),[{name:n.payload.name,id:(0,b.Z)(),startTime:H.Z?H.Z.now():0,endTime:1/0,annotationMap:W({},n.payload.annotations),binaryAnnotationMap:W({},n.payload.binaryAnnotations),parentId:n.payload.parentId}])});case"STOP_SUBSPAN":var S=t.spans.findIndex((function(t){return t.name===n.payload.name}));return S>-1?(t.spans[S].endTime=H.Z?H.Z.now():0,n.payload.annotations&&(t.spans[S].annotationMap=W(W({},t.spans[S].annotationMap),n.payload.annotations)),n.payload.binaryAnnotations&&(t.spans[S].binaryAnnotationMap=W(W({},t.spans[S].binaryAnnotationMap),n.payload.binaryAnnotations))):(0,a.H)("invalid_subspan_stop_name",{name:n.payload.name}),t;default:var A=(0,U.KJ)(t.metricConfig.metricId);return(0,a.H)("invalid_pwt_surface_action",{action:A}),t}};function ut(t){var n,e,i,o=t.children,c=Y(t,J),s=(0,F.fM)(),u=function(t){if(!t)return"initial_app_load";switch(t.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}}(s),l=["seo_web_react18_render","web_react18_render_auth","web_react18_render_unauth"].concat(q(null!==(n=c.annotateExperiments)&&void 0!==n?n:[])),p=function(t){var n=t.surface,e=t.constraints,i=t.segment,a=t.measureGridVisuallyComplete,o=t.annotateExperiments,c=t.customEnabledNavigationTypes,s=t.navigationInfo,u=s.clientNavigation,l=s.navigationType,p=t.sampleRate,f=(0,r.useRef)("NOT_SET"),d=(0,F.N5)(),m=B(st,{status:"DISABLED",metricConfig:null}),y=m.getState,v=m.dispatch;if(f.current!==u&&(f.current=u,d)){var g=d.isAuthenticated,b=n&&l&&(c||nt).includes(l)?{metricId:{type:"surface",surface:n,navigationType:l,isAuthenticated:g,segment:i},annotateExperiments:o,constraints:[rt].concat(q(e||[]),q(a?[it]:[])),pwtStaticContext:d}:null;v({type:"INIT_ROUTE",payload:{metricConfig:b,startTime:u?u.time:0,isSampled:!p||Math.random()<p}})}var h=y();if((0,r.useEffect)((function(){var t=function(t){v({type:"ABORT",reason:t})};z.Z.onSessionPause(t);var n=function t(){window.removeEventListener("resize",t),v({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),function(){var e=y();et("handling unmount",e),"TIMING"===e.status&&at(e,"unmount"),z.Z.removePauseListener(t),window.removeEventListener("resize",n)}}),[]),"TIMING"!==h.status||!h.constraintMap[rt])return{state:h,context:null};var T=h.startTime,S=h.metricConfig;return{state:h,context:{abort:function(t){return v({type:"ABORT",reason:t})},addAnnotation:function(t){return v({type:"ANNOTATE",payload:{name:t}})},addBinaryAnnotation:function(t,n,e){return v({type:"BINARY_ANNOTATE",payload:{name:t,value:n,annotationType:e}})},addSubspan:function(t,n,e){return v({type:"ADD_SUBSPAN",payload:{name:t,startTime:n,endTime:e,annotations:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},binaryAnnotations:arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},parentId:arguments.length>5&&void 0!==arguments[5]?arguments[5]:null}})},getId:function(){return T},getMetricId:function(){return S.metricId},markConstraintComplete:function(t){return v({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:t,time:H.Z?H.Z.now():0}})},removeConstraint:function(t){return v({type:"REMOVE_CONSTRAINT",payload:t})},setSegment:function(t){return v({type:"SET_SEGMENT",payload:t})},setVisuallyCompleteResult:S.constraints.includes(it)?function(t){return v({type:"SET_VISUALLY_COMPLETE_RESULT",payload:t})}:null,startSubspan:function(t){return v({type:"START_SUBSPAN",payload:{name:t,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})},stopSubspan:function(t){return v({type:"STOP_SUBSPAN",payload:{name:t,annotations:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},binaryAnnotations:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},parentId:arguments.length>3&&void 0!==arguments[3]?arguments[3]:null}})}}}}(W(W({},c),{},{annotateExperiments:l,navigationInfo:{navigationType:u,clientNavigation:s}})).context;return e=(0,G.E)(),i=!!e,(0,r.useEffect)((function(){if(i){var t=null==e?void 0:e.getMetricId(),n=t?(0,U.KJ)(t):null;(0,a.H)("nested_pwt_surface",{action:n})}}),[i]),(0,K.jsx)(G.S,{value:p,children:o})}},311560:function(t,n){n.Z=function(t){switch(t){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/16142-a508338bfa4784b3.js.map